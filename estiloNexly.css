@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', 'Segoe UI', Arial, sans-serif; }
body {
  min-height: 100vh;
  background: linear-gradient(120deg,#e0e7ff 0%, #f1f5f9 100%);
  color: #1e293b;
  transition: background .3s, color .3s;
}
h1, h2, h3 { margin-bottom: 1rem; font-weight: 800; letter-spacing: -.5px; }
input, select, button {
  margin: .4rem 0;
  padding: .7rem 1rem;
  border-radius: .55rem;
  border: 1.5px solid #cbd5e1;
  background: #fff;
  color: #1e293b;
  font-size: 1rem;
  transition: border-color .2s, box-shadow .2s, background .2s;
}
input:focus, select:focus {
  border-color: #38bdf8;
  outline: none;
  box-shadow: 0 0 0 2px #38bdf8a8;
}
button { cursor: pointer; position: relative; overflow: hidden; }
input.error, select.error { border-color: #ef4444; background: #ffe4e6; }

/* ===== Ripple Effect ===== */
.ripple::after {
  content: '';
  display: block;
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  width: 0; height: 0;
  top: 50%; left: 50%;
  background: rgba(37,99,235,.15);
  transform: translate(-50%, -50%);
  transition: width .4s cubic-bezier(.4,0,.2,1), height .4s cubic-bezier(.4,0,.2,1), opacity .3s;
}
.ripple:active::after {
  width: 180px; height: 180px; opacity: .3;
  transition: 0s;
}

/* ===== Glassmorphism Cards ===== */
.glass-card {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(7px);
  box-shadow: 0 8px 32px 0 rgba(37,99,235,0.10), 0 0 0 2px #38bdf840 inset;
  border: 1.5px solid #e0e7ff;
}
.glass-hero {
  background: linear-gradient(120deg, #2563eb44 0%, #0ea5e944 100%);
  backdrop-filter: blur(3px);
}

/* ===== Sidebar Drawer ===== */
.sidebar {
  position: fixed;
  top: 0; right: -300px; bottom: 0;
  width: 300px;
  background: rgba(37,99,235,0.97);
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1200;
  box-shadow: -2px 0 24px 0 #2563eb55;
  padding-top: 2rem;
  transition: right .32s cubic-bezier(.6,.05,.45,.95);
  border-top-left-radius: 32px; border-bottom-left-radius: 32px;
}
.sidebar.open { right: 0; }
.sidebar-header {
  display: flex; flex-direction: column; align-items: center;
  width: 100%; margin-bottom: 1rem;
}
.sidebar .logo { width: 70px; height: 70px; border-radius: 50%; margin-bottom: 1rem; box-shadow:0 0 24px #38bdf8a0; }
.menu-user {
  display:flex; flex-direction:column; align-items:center; gap:.2rem; margin-bottom:1rem;
}
.sidebar-avatar {
  width: 54px; height: 54px; border-radius: 50%; object-fit: cover;
  box-shadow: 0 0 18px #2563eb80;
  border: 2px solid #e0e7ff;
}
.sidebar-nombre { font-weight:700; margin-top:.2rem; }
.sidebar-correo { font-size:.97rem; color:#e0e7ffbb; }

.close-menu {
  position: absolute; top: 1.2rem; right: 1.2rem;
  font-size: 1.4rem; cursor: pointer; color: #e0e7ff; background: none; border: none; z-index: 10;
  transition: color .22s;
}
.close-menu:hover { color: #38bdf8; }

.sidebar nav { flex: 1; width: 100%; }
.sidebar ul { list-style: none; width: 100%; padding: 0; }
.sidebar li {
  padding: .9rem 0 .9rem 2.2rem; width: 100%;
  font-weight: 600; font-size: 1.09rem; letter-spacing: .2px; color: #e0e7ff;
  display: flex; align-items: center; gap: 1rem; cursor: pointer; position: relative;
  border-left: 4px solid transparent;
  transition: background .19s, border-left-color .22s, color .16s;
  margin-bottom: .3rem;
}
.sidebar li .active-indicator {
  position: absolute; left: 0; top: 50%; width: 7px; height: 32px;
  border-radius: 99px;
  background: linear-gradient(180deg,#38bdf8 0,#2563eb 100%);
  opacity: 0; transform: translateY(-50%) scaleY(.4);
  transition: opacity .22s, transform .22s;
}
.sidebar li.active .active-indicator { opacity: 1; transform: translateY(-50%) scaleY(1.05); }
.sidebar li.active,
.sidebar li:hover { background: #2563ebcc; border-left: 4px solid #38bdf8; color: #fff; }
.sidebar .logout-btn {
  margin-bottom: 2rem; padding: .7rem 2rem; background: #fff; color: #2563eb;
  border: none; border-radius: .7rem; font-weight: 700; box-shadow: 0 2px 8px #38bdf840;
  transition: background .22s, color .22s, box-shadow .22s;
}
.sidebar .logout-btn:hover {
  background: linear-gradient(90deg,#2563eb 0,#38bdf8 100%);
  color: #fff; box-shadow: 0 6px 18px #2563eb55;
}
.sidebar-overlay {
  display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(30,41,59,0.33); z-index: 1100; transition: opacity .24s;
}
.sidebar.open ~ .sidebar-overlay { display: block; opacity: 1; }

/* ===== Main content area ===== */
.main-content {
  padding: 2.3rem 2.5rem 1.5rem 2.5rem;
  min-height: 100vh;
  transition: margin .3s;
  background: linear-gradient(120deg,#e0e7ff 0%, #f1f5f9 100%);
}

/* ===== Topbar ===== */
.topbar {
  display: flex; gap: 1rem; justify-content: flex-end; align-items: center;
  background: transparent; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0; margin-bottom: 1.5rem;
}
.topbar .menu-btn {
  background: linear-gradient(90deg,#2563eb 0,#38bdf8 100%);
  color: #fff; border: none; font-size: 1.25rem; margin-right: 1.5rem;
  border-radius: .6rem; transition: background .19s, color .19s;
  box-shadow: 0 2px 8px #2563eb33;
}
.topbar .menu-btn:hover { background: #2563eb; color: #38bdf8; }
.topbar .profile-name { display: flex; align-items: center; font-weight: 700; gap: .6rem; }
.topbar .profile-photo {
  width: 38px; height: 38px; border-radius: 50%; object-fit: cover; box-shadow: 0 2px 12px #2563eb33;
}
.topbar button, .topbar .icon-btn {
  background: #f8fafc; border: 1.5px solid #e2e8f0;
  color: #2563eb; border-radius: .55rem; padding: .5rem .8rem; font-size: 1.09rem;
  box-shadow: 0 2px 8px #2563eb22;
  transition: box-shadow .18s, background .22s, color .22s;
}
.topbar .icon-btn:hover, .topbar button:hover { background: #e0e7ff; color: #2563eb; box-shadow: 0 4px 12px #38bdf840; }

/* ===== Hero ===== */
.hero {
  position: relative; min-height: 48vh; border-radius: 16px; overflow: hidden;
  background: url('img/inicioN.jpg') center/cover no-repeat;
  box-shadow: 0 12px 48px #2563eb22; margin-bottom: 2rem;
}
.hero::after {
  content:""; position:absolute; inset:0;
  background: linear-gradient(120deg,#2563eb88 0,#38bdf8cc 100%);
}
.hero .hero-content {
  position: absolute; left: 0; right: 0; bottom: 0; padding: 2.5rem; color: #fff; z-index: 1;
  display: flex; flex-direction: column; gap: .7rem; letter-spacing: .1px;
}
.hero h1 { font-size: 2.6rem; margin-bottom: .5rem; text-shadow: 0 2px 32px #2563eb80; }

/* ===== Cards ===== */
.card {
  background: #fff; border-radius: 1rem; padding: 1.3rem 1.5rem;
  box-shadow: 0 8px 32px #2563eb18, 0 0 0 2px #38bdf840 inset;
  margin-bottom: 2rem; border: 1.5px solid #e2e8f0;
  position: relative;
}
.card::before {
  content: ""; position: absolute; top:0; left:0; right:0; height: 7px; border-top-left-radius: 1rem; border-top-right-radius: 1rem;
  background: linear-gradient(90deg, #38bdf8 0%, #2563eb 100%);
  opacity: .15;
  z-index: 1;
}

/* ===== Tareas ===== */
#lista-tareas {
  list-style: none; margin-top: 1rem;
}
#lista-tareas li {
  padding: .85rem 1rem; border: 1.5px solid #e2e8f0; border-radius: .8rem;
  margin-bottom: .7rem; background: #fff; display: flex; justify-content: space-between; align-items: center; gap: .7rem;
  transition: box-shadow .18s, background .22s;
  box-shadow: 0 2px 8px #2563eb11;
  position: relative;
  overflow: hidden;
}
#lista-tareas li.vencida { background: #ffe4b5; color: #7f1d1d; font-weight: 700; border-left: 8px solid #ef4444; }
#lista-tareas li.alerta-hoy { background: #c7d2fe; color: #3730a3; font-weight: 700; border-left: 8px solid #2563eb; }
#lista-tareas li.alerta-proxima { background: #fef9c3; color: #78350f; font-weight: 700; border-left: 8px solid #fb923c; }

/* ===== Gastos ===== */
#tabla-gastos {
  width: 100%; border-collapse: collapse; margin-top: 1rem; background: #fff; border-radius: .7rem;
  overflow: hidden; box-shadow: 0 2px 8px #2563eb22; font-size: 1rem; border: none;
}
#tabla-gastos th, #tabla-gastos td {
  border-bottom: 1.5px solid #e2e8f0; padding: .9rem 1rem; text-align: left;
}
#tabla-gastos th {
  background: linear-gradient(90deg,#e0e7ff 0,#38bdf8 100%);
  color: #2563eb; font-weight: 700;
}
.glass-table { background: rgba(255,255,255,.87); backdrop-filter: blur(4px);}
.comida { background: #fff7ed; }
.entretenimiento { background: #fefce8; }
.transporte { background: #eff6ff; }
.salud { background: #ecfdf5; }
.hogar { background: #fffbeb; }
.monto-rojo { color: #ef4444; font-weight: 800; }
.monto-naranja { color: #fb923c; font-weight: 700; }

/* ===== Notificaciones ===== */
.notif-panel {
  position: fixed; right: 2.5rem; top: 84px; width: 330px; max-height: 62vh; overflow: auto;
  background: rgba(255,255,255,.92); border-radius: .9rem; box-shadow: 0 16px 36px #2563eb30;
  z-index: 1500; border: 1.5px solid #e0e7ff; animation: fadeInNotif .25s; backdrop-filter: blur(9px);
}
@keyframes fadeInNotif { from { opacity: 0; top: 120px; } to { opacity: 1; top: 84px; } }
.notif-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.15rem; border-bottom: 1.5px solid #e0e7ff; }
.notif-list { list-style: none; padding: 0; }
.notif-item {
  padding: .7rem 1.15rem; border-bottom: 1.5px solid #e0e7ff; display: flex; gap: .7rem; align-items: flex-start;
  transition: background .18s;
}
.notif-item .dot {
  width: 10px; height: 10px; border-radius: 50%; background: #22c55e;
  margin-top: .38rem; flex-shrink: 0; box-shadow: 0 0 6px #38bdf8a0;
}
.notif-item .msg { flex: 1; }
.notif-item .time { color: #64748b; font-size: .85rem; }
.badge {
  background: linear-gradient(90deg,#ef4444 0,#fb923c 100%);
  color: #fff; border-radius: 999px; padding: .07rem .4rem; font-size: .88rem; margin-left: .25rem;
  animation: badgePop .4s;
}
@keyframes badgePop { 0%{transform:scale(.5);} 70%{transform:scale(1.3);} 100%{transform:scale(1);} }

/* ===== Post-its (recomendaciones) ===== */
.postits { display: flex; flex-wrap: wrap; gap: 1.15rem; margin-top: 1.3rem; }
.postit {
  background: #fef08a; color: #222; padding: 1.1rem; border-radius: .7rem; cursor: grab; min-width: 160px;
  font-weight: 700; font-size: 1.07rem; box-shadow: 0 2px 8px #2563eb22; transition: box-shadow .2s;
  border-left: 5px solid #2563eb;
}
.postit:active { box-shadow: 0 6px 24px #2563eb22; }

/* ===== Perfil ===== */
.foto { width: 120px; height: 120px; border-radius: 50%; margin-bottom: 1.1rem; object-fit: cover;
  box-shadow: 0 10px 24px #2563eb44; border:2px solid #38bdf8;
}
input[type=file] { margin-bottom: 1rem; }

.card.center { align-items: center; display: flex; flex-direction: column; }

/* ===== Dark Mode ===== */
body.dark {
  background: linear-gradient(120deg,#0f172a 0%, #1e293b 100%);
  color: #e0e8f0;
}
body.dark input, body.dark select, body.dark button {
  background: #0f172a; border-color: #334155; color: #e2e8f0;
}
body.dark .sidebar { background: #111827ee; color: #fff; }
body.dark .sidebar li.active,
body.dark .sidebar li:hover { background: #2563ebee; color: #fff; }
body.dark .sidebar .logout-btn { background: #0f172a; color: #fff; border-color: #2563eb;}
body.dark .main-content { background: linear-gradient(120deg,#0f172a 0%, #1e293b 100%); }
body.dark .topbar,
body.dark .card,
body.dark #tabla-gastos,
body.dark #lista-tareas li,
body.dark .notif-panel,
body.dark .postit { background: #0f172aee; color: #e2e8f0; }
body.dark #tabla-gastos th { background: #0f172a; color: #e0e8f0; }
body.dark .badge { background: #2563eb; }
body.dark .postit { background: #333; color: #fff; }
body.dark .foto { box-shadow: 0 10px 24px #0ea5e9a0; border-color:#38bdf8;}
body.dark .sidebar-overlay { background: rgba(30,41,59,0.6); }
body.dark .glass-card, body.dark .glass-hero, body.dark .glass-table { background:rgba(30,41,59,0.83); }

/* ===== Responsive ===== */
@media(max-width:1050px) { .main-content { padding: 1.3rem .7rem; } }
@media(max-width:800px) { .sidebar { width: 75vw; max-width: 340px; } }
@media(max-width:600px) { .sidebar { width: 95vw; max-width: 100vw; } .main-content { padding: .7rem .3rem; } }

/* ===== Animaciones ===== */
.btn, .btn-bienvenida, .btn-outline, .logout-btn {
  transition: transform .15s, box-shadow .15s, background .22s;
}
.btn:hover, .btn-bienvenida:hover, .btn-outline:hover, .logout-btn:hover {
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 6px 18px #38bdf840;
}